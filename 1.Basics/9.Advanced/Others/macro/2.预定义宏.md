# 预定义宏
- \_\_FILE__: 当前文件路径
- \_\_LINE__: 当前程序所在行号
- \_\_VA_ARGS__: 宏的变参
- \_WIN32: 当前是windows32bit的编译环境
- \_WIN64: 当前是windows64bit的编译环境
- \_\_APPLE__: 当前是苹果平台
- \_\_ANDROID__: 当前是安卓平台
- \_\_linux__: 当前是Linux平台
- \_\_unix__: 当前是Unix平台
- \_\_FUNCTION__: 当前的函数名
- \_\_TIME__: 当前文件的时间

&emsp;
## 1 \_\_func__
有时候我们为了调试方便，想在某个函数中打印出函数名。C++11 提供了一个预定义__func__（注意两边各有两条下画线），用于表示函数名称。该宏使用起来很简单，将它当作一个字符串即可，这样在需要打印的地方，按照字符串的打印方式即可显示函数名称。

>示例，使用宏__func_得到函数名
```c++
const char *test()
{
    return __func__;
}
int main()
{
    printf("%s, %s\n", __func__, test());
    return 0;
}
```




## 2 \_\_VA_ARGS__
- __VA_ARGS__是一个表示变长参数的宏，它以前属于 c99 标准，现在 C++11 把它正式纳入 C++标准。变长参数是指参数列表的最后一个参数是省略号，而变长参数的宏 \_\_VA_ARGS\_\_ 则可以替换省略号所代表的字符串，这个功能在轻量级调试中非常有用，我们可以自己定叉一些日志函数、打印函数来丰富调试信息。

>示例 1
```c++
// 对 printf 重新定义，然后调用 printf 的地方就可以用 PT 来代替
#include <stdio.h>
#define PT(...) printf(__VA_ARGS__);

int main()
{
    PT("%d,%s\n", 5, "abc");
}
```

>示例 2
```c++
// 实现一个日志打印函数
#include <stdio.h>

#define INFO(...)     \
{                        \
    // 打印出源代码文件名、函数名和行数
    printf("%s\n%s,%d\n", __FILE__, __func__, __LINE__); \
    // 打印变量值
    printf(__VA_ARGS__); \
}                        
 
int main()
{
    int a = 5;
    INFO("a = %d\n", a);
    return 0;
}
```



这个例子综合性地用到了前面介绍的几个宏，它们和 \_\_VA_ARGS\_\_ 一起较好地显示出了一些调试信息，比如当前文件名称、函数名称和行数，以及自己想查看的变量值，这里就是 ret。这样的打印信息对于一些无法单步调试的环境非常重要，比如内核调试环境等。